<template>
  <div class="content_detail">
    <content-head :data="contentHead"></content-head>
    <content-text :data="contentText"></content-text>
    <div class="detail" v-html="contentDetail">{{ contentDetail }}</div>
    <content-related></content-related>
  </div>
</template>

<script>

import content_head from './content_head.vue'
import content_text from './content_text.vue'
import content_related from './content_related.vue'

export default {
  name: 'content_detail',
  components: {
    "content-head": content_head,
    "content-text": content_text,
    "content-related": content_related,
  },
  data() {
    return {
        contentHead:{
          content_title: 'è¿˜å·®ä¸€åœºé›ªï¼Œä¹Ÿè®¸çœŸçš„å¯ä»¥åˆ°ç™½å¤´ã€‚',   //æ¸¸è®°æ ‡é¢˜
          title_img_url: "http://p3-q.mafengwo.net/s12/M00/26/FF/wKgED1wmMbyARMvZAAsHdb5BJao19.jpeg?imageMogr2%2Fstrip",  //æ¸¸è®°æ ‡é¢˜èƒŒæ™¯å›¾
          num_ding: 324, //é¡¶çš„æ•°é‡
          per_home_url: "http://www.mafengwo.cn/u/57633488.html", //ç‚¹ç”¨æˆ·å¤´åƒå’Œç”¨æˆ·åè¿›å…¥çš„é“¾æ¥
          per_pic_url: "http://b1-q.mafengwo.net/s12/M00/6C/2E/wKgED1we54uAdBBiAACPODu3epo99.jpeg?imageMogr2%2Fthumbnail%2F%21200x200r%2Fgravity%2FCenter%2Fcrop%2F%21200x200%2Fquality%2F90",  //ç”¨æˆ·å¤´åƒ
          per_name: 'å¨œå¨œ959', //ç”¨æˆ·å
          per_grade: 'LV.41', //ç”¨æˆ·ç­‰çº§
          vip: true, //æ˜¯å¦æ˜¯vip
          vip_url: "http://www.mafengwo.cn/home/vip_show.php", //ä¸éœ€è¦
          vip_img_url: "http://images.mafengwo.net/images/home/vip/vip1.gif",   //ä¸éœ€è¦
          time: '2019-01-03 21:13',  //vipå³ä¾§çš„æ—¶é—´
          view: '2400/201', //æ—¶é—´å³ä¾§
          num_share: 8,  //å·²åˆ†äº«æ•°é‡
          num_collect: 32 //æ”¶è—æ•°
        },
        contentText:{
          time: '2018-12-16',  //å‡ºå‘æ—¶é—´
          day: '7', //å‡ºè¡Œå¤©æ•°
          people: 'å’Œæœ‹å‹',  //äººç‰©
          cost: '2000RMB' //äººå‡è´¹ç”¨
        },
        contentDetail: '<p class="_j_note_content _j_seqitem" data-seq="424976778">æˆ‘æ˜¯ä¸ªæ–‡å­—åŠŸåº•ä¸€èˆ¬è¿˜æœ‰ç‚¹æ‡’çš„äººã€‚<br>ä½†æ˜¯æ—¶éš”å¾ˆä¹…å´è¿˜æ˜¯å¾ˆæƒ³ç”¨è‡ªå·±æ‹™åŠ£çš„æ–‡ç¬”å»è®°å½•è¿™åœºç¾å¥½çš„è¡Œç¨‹ã€‚<br>è¿™ç¬¬ä¸€æ¬¡å¢ƒå¤–è‡ªç”±è¡Œã€‚<br>å¾ˆå¤šäººéƒ½è¯´<a href="/travel-scenic-spot/mafengwo/10180.html" class="link _j_keyword_mdd" data-kw="è¶Šå—" target="_blank">è¶Šå—</a>å¾ˆç©·ï¼Œå¾ˆä¹±ï¼Œå¾ˆå±é™©ã€‚<br>å‡ºå‘ä¹‹å‰æœ‰å¾ˆå¤šå¥½å¿ƒçš„åŠé˜»ã€‚whatererï¼Œè¿˜æ˜¯è¦å»ã€‚<br>ä»å†³å®šè‡ªç”±è¡Œåˆ°å‡ºå‘ä¸è¶³1å‘¨çš„æ—¶é—´<br>2ä¸ªå¥³ç”ŸğŸ‘§è¯´èµ°å°±èµ°<br>è®¢æœºç¥¨ï¼Œå¤‡è¡£æœï¼Œæ¢é’±ç­¾è¯ï¼Œåšæ”»ç•¥......<br>æˆ‘æ˜¯ä¸ªæŠŠç”Ÿæ´»è¿‡å¾—ä¸ƒé›¶å…«è½çš„äººï¼Œå‡ºé—¨å¿˜è®°å¸¦é’¥åŒ™ï¼Œå–é’±å¿˜æ‹”å¡ã€‚ä½†æ¯æ¬¡å¤–å‡ºå´åƒä¸ƒå¤§å§‘å…«å¤§å§¨é™„èº«ä¸€æ ·ï¼Œæœ‰æ¡ä¸ç´Šï¼Œé¢é¢ä¿±åˆ°ã€‚å¤§æ¦‚å°±æ˜¯å–œçˆ±çš„åŠ›é‡ã€‚</p>',
    };
  },
  created() {
    // this.load()
  },
  methods: {
    load(){
      var vm = this
      vm.$http.get(this.GLOBAL.baseUrl + '/' + location.href.split('/')[3])
              .then((response) => {
                if (response.body.status === 200){
                  console.log(response)
                  head = response.body.contentHead
                  this.contentHead = {
                    content_title: head.content_title,   //æ¸¸è®°æ ‡é¢˜
                    title_img_url: head.title_img_url,  //æ¸¸è®°æ ‡é¢˜èƒŒæ™¯å›¾
                    num_ding: head.num_ding, //é¡¶çš„æ•°é‡
                    per_home_url: head.per_home_url, //ç‚¹ç”¨æˆ·å¤´åƒå’Œç”¨æˆ·åè¿›å…¥çš„é“¾æ¥
                    per_pic_url: head.per_pic_url,  //ç”¨æˆ·å¤´åƒ
                    per_name: head.per_name, //ç”¨æˆ·å
                    per_grade: head.per_grade, //ç”¨æˆ·ç­‰çº§
                    vip: head.vip, //æ˜¯å¦æ˜¯vip
                    vip_url: "http://www.mafengwo.cn/home/vip_show.php", //ä¸éœ€è¦
                    vip_img_url: "http://images.mafengwo.net/images/home/vip/vip1.gif",   //ä¸éœ€è¦
                    time: head.time,  //vipå³ä¾§çš„æ—¶é—´
                    view: head.view, //æ—¶é—´å³ä¾§
                    num_share: head.num_share,  //å·²åˆ†äº«æ•°é‡
                    num_collect: head.num_collect //æ”¶è—æ•°
                  },
                  text = response.body.contentText
                  this.contentText = {
                    time: text.time,  //å‡ºå‘æ—¶é—´
                    day: text.day, //å‡ºè¡Œå¤©æ•°
                    people: text.people,  //äººç‰©
                    cost: text.cost //äººå‡è´¹ç”¨
                  },
                  this.contentDetail = response.body.contentDetail
                } else {
                  this.$message({
                    message: response.body.msg,
                    type: 'error'
                  })
                }
      },(response) => {});
    },
  }
}
</script>

<!-- Add "scoped" attribute to limit CSS to this component only -->
<style lang="less" scoped>
.content_detail {
  margin-top: 70px;

  .detail {
    float: left;
    width: 70%;
    max-width: 850px;
    margin-left: 20px;
    margin-top: 20px;
  }
}
</style>